@startuml

== Mint TC ==

actor Alice
Alice -> DoC : approve(MocWrapper, qACmax)
Alice -> MocWrapper : mintTC(DoC.address, qTC, qACmax)
MocWrapper -> MocWrapper : calculate WACNeeded
MocWrapper -> TokenWCA : mintTC(MocWrapper, WACNeeded)
MocWrapper -> DoC : transferFrom(Alice, MocWrapper, qACmax)
MocWrapper -> MocCore : mintTCTo(qTC, WACNeeded, Alice)
MocCore -> TokenWCA : transfer(Moc Flow, fees)
MocCore -> MocWrapper: WACused
MocWrapper -> MocWrapper : calculate DoCunused
MocWrapper -> DoC : transfer(Alice, DoCunused)
MocWrapper -> TokenWCA : burn(MocWrapper, WACNeeded - WACused)
@enduml